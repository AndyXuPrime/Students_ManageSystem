server:
  port: 8080

spring:
  application:
    name: stu-gateway-dev
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848

    gateway:
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true

      routes:
        - id: resource-service-route
          uri: lb://resource-service          # ç¡®ä¿ Nacos é‡ŒæœåŠ¡åæ˜¯è¿™ä¸ª
          predicates:
            - Path=/api/file/**               # ğŸ‘ˆ å…³é”®ï¼šæ‹¦æˆªå¸¦ /api çš„è·¯å¾„
          filters:
            - StripPrefix=1                   # ğŸ‘ˆ å…³é”®ï¼šå»æ‰ /apiï¼Œå‘ç»™åç«¯ /file/search

        - id: sims-service-route
          uri: lb://studentmanage-test
          predicates:
            - Path=/api/**                    # æ‹¦æˆªå‰©ä¸‹çš„ /api è¯·æ±‚
          filters:
            - StripPrefix=1

      globalcors:
        cors-configurations:
          '[/**]':
            allowedOrigins: "*"
            allowedMethods: "*"
            allowedHeaders: "*"
            allowCredentials: false